---
import type { GetStaticPaths } from "astro";
import Layout from "@layouts/Layout.astro";
import { getCollection, getEntry, type CollectionEntry } from "astro:content";
import Container from "@components/container.astro";
import MarkdownWrapper from "@components/MarkdownWrapper.astro";

export async function getStaticPaths() {
  const news = await getCollection("news");
  return news.map((entry) => ({
    params: { slug: entry.slug },
    props: { entry },
  }));
}

type Props = {
  entry: CollectionEntry<"news">;
};
const { entry } = Astro.props;
const { Content } = await entry.render();
---

<Layout title="">
  <Container>
    <MarkdownWrapper frontmatter={entry.data}>
      <Content />
    </MarkdownWrapper>
  </Container>
</Layout>

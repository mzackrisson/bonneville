---
import Container from "@components/container.astro";
import Layout from "@layouts/Layout.astro";
import { getCollection, getEntryBySlug } from "astro:content";
import Pagelayout from "@layouts/pageLayout.astro";

//get correct md file
const { slug } = Astro.params;
if (slug === undefined) {
  throw new Error("slug is undefined");
}
const maklarinfo = await getEntryBySlug("pages", slug);
if (maklarinfo === undefined) {
  throw new Error("maklarinfo is undefined");
}

// const { Content } = await maklarinfo.render();

export async function getStaticPaths() {
  const pages = await getCollection("pages");
  return pages.map((maklarinfo) => ({
    params: { slug: maklarinfo.slug },
    props: { maklarinfo },
  }));
}

// const { maklarinfo } = Astro.props;
const { Content } = await maklarinfo.render();
---

<Layout title="">
  <Container>
    <Pagelayout>
      <Content />
    </Pagelayout>
  </Container>
</Layout>

---
import Container from "@components/container.astro";
import Layout from "@layouts/Layout.astro";
import { getCollection, getEntryBySlug } from "astro:content";

//get correct md file
const { slug } = Astro.params;
if (slug === undefined) {
  throw new Error("slug is undefined");
}
const boende = await getEntryBySlug("pages", slug);
if (boende === undefined) {
  throw new Error("boende is undefined");
}

// const { Content } = await boende.render();

export async function getStaticPaths() {
  const pages = await getCollection("pages");
  return pages.map((boende) => ({
    params: { slug: boende.slug },
    props: { boende },
  }));
}

// const { boende } = Astro.props;
const { Content } = await boende.render();
---

<Layout title="">
  <Container>
    <Content />
  </Container>
</Layout>

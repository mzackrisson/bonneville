---
import type { ImageMetadata } from "astro";
import { getCollection, getEntry } from "astro:content";
import { Image } from "astro:assets";

// const members = await getCollection("members");
const omforeningen = await getEntry("omforeningenpage", "index");
---

<!-- startpage.data.infoblock.map(({ buttontext, title, url, text }) => ( -->
<section class="mx-auto grid">
  <h1 class="text-3xl">Medlemmar</h1>
  <div
    class="mx-auto flex w-full flex-wrap justify-center gap-10 pt-14 xl:justify-start">
    {
      omforeningen.data.members.map(
        async ({ name, title, image, description }) => {
          const img = (await import(image)).default as ImageMetadata;
          return (
            <div class="mb-12 max-w-64">
              <Image
                class="aspect-square object-cover"
                src={img}
                alt={`Bild pÃ¥ ${name}`}
              />

              <div class="flex h-full flex-col">
                <h2 class="flex justify-center py-4 text-3xl font-semibold leading-snug tracking-tight">
                  {name}
                </h2>
                <p class="pt-4">{title}</p>
                <p class="pt-3">{description}</p>
              </div>
            </div>
          );
        },
      )
    }
  </div>
</section>

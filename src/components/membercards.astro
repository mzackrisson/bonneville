---
import type { ImageMetadata } from "astro";
import { getCollection } from "astro:content";
import { Image } from "astro:assets";

const members = await getCollection("members");
---

<section
  class="mx-auto flex max-w-lg flex-wrap justify-start gap-16 bg-yellow-200 pt-14">
  {
    [members, members, members, members]
      .flat()
      .map(async ({ data: { name, title, image, description } }) => {
        const img = (await import(image)).default as ImageMetadata;
        return (
          <div class="grid max-w-48 place-content-start justify-center bg-red-100">
            <Image src={img} alt={`Bild pÃ¥ ${name}`} />

            <div class="flex h-full flex-col justify-start">
              <h2 class="py-4 text-3xl font-semibold leading-snug tracking-tight">
                {name}
              </h2>
              <p class="text-stone-800">{title}</p>
              <p class="pt-2 text-black">{description}</p>
            </div>
          </div>
        );
      })
  }
</section>
